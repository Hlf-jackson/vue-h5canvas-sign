{"remainingRequest":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&lang=css&scoped=true&","dependencies":[{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/src/views/Home.vue","mtime":1677315824289},{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/css-loader/dist/cjs.js","mtime":1665459472118},{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1677319766737},{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/postcss-loader/src/index.js","mtime":1665459472788},{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/cache-loader/dist/cjs.js","mtime":1665459455731},{"path":"/Users/mac/Desktop/未命名文件夹/vue-h5canvas-sign/node_modules/vue-loader/lib/index.js","mtime":1677319766737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNhbnZhcy13cmFwIC5idG4tYm94IC5jbGVhci1idG4sCi5jYW52YXMtd3JhcCAuYnRuLWJveCAuc3VyZS1idG4gewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogMTAwcHg7CiAgaGVpZ2h0OiAyNHB4OwogIG1hcmdpbjogMCAxMHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9CgouY2FudmFzLXdyYXAgLmJ0bi1ib3ggLmNsZWFyLWJ0biB7CiAgY29sb3I6ICM4OTg5ODk7CgliYWNrZ3JvdW5kOiAjZDRkNGQ0Owp9CgouY2FudmFzLXdyYXAgLmJ0bi1ib3ggLnN1cmUtYnRuIHsKICBjb2xvcjogI2ZmZjsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTAwZGVnLCAjZmY0ZTAxIDAlLCAjZmZiYzAxIDEwMCUpOwp9CgouY2FudmFzLXdyYXAgLmNhbnZhcy13cmFwLWJveCB7CiAgLyogbGVmdDogMjIlOyAqLwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDIwdnc7CiAgaGVpZ2h0OiA4MHZoOwogIGJvcmRlcjogMXB4IGRhc2hlZCAjZDRkNGQ0OwogIG92ZXJmbG93OiBoaWRkZW47CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoKLyog56uW5bGPIGNzcyAqLwpAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KSB7CiAgLmNhbnZhcy13cmFwIC5jYW52YXMtd3JhcC1ib3ggewogICAgd2lkdGg6IDkwJTsKICAgIGhlaWdodDogMzB2aDsKICAgIG1hcmdpbjogMjBweCBhdXRvIDA7CiAgfQogIC5wcmV2aWV3LXdyYXAgewogICAgbWFyZ2luOiAyMHB4IGF1dG8gMDsKICB9CiAgLmNhbnZhcy13cmFwIC5idG4tYm94IHsKICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgfQp9CgovKiDmqKrlsY8gY3NzICovCgpAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkgewogIC8qIOaoquWxj+agt+W8j+iHquW3seiwg+ivlSAqLwp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"canvas-wrap\">\n    <div v-show=\"!previewImage\" ref=\"canvasRef\" class=\"canvas-wrap-box\">\n      <canvas\n        id=\"canvas-map\"\n        ref=\"canvasMapRef\"\n        width=\"100\"\n        height=\"100\"\n      ></canvas>\n    </div>\n    <div class=\"preview-wrap\" v-show=\"previewImage\">\n      <img class=\"preview-image\" :src=\"previewImage\" alt=\"生成预览\" />\n    </div>\n    <div class=\"btn-box\">\n      <span class=\"clear-btn\" @click=\"goClear\">清除</span>\n      <span class=\"sure-btn\" @click=\"goSure\">确认</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SignaturePad from \"signature_pad\";\nimport { rotateBase64Img } from \"@/utils/common\";\n\nexport default {\n  name: \"SignNameCanvas\",\n  data() {\n    return {\n      canvasNode: null,\n      previewImage: null,\n    };\n  },\n  mounted() {\n    this.initalHandle();\n    window.addEventListener(\"resize\", this.initalHandle, false);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.initalHandle, false);\n  },\n  methods: {\n    initalHandle() {\n      const _canvasBox = this.$refs.canvasRef;\n      const _canvas = this.$refs.canvasMapRef;\n      if (!_canvasBox || !_canvas) {\n        return false;\n      }\n\n      _canvas.width = _canvasBox.clientWidth;\n      _canvas.height = _canvasBox.clientHeight;\n\n      this.goClear();\n      this.canvasNode = new SignaturePad(_canvas, {\n        minWidth: 2,\n        maxWidth: 2,\n        penColor: \"rgb(0, 0, 0)\",\n      });\n    },\n\n    goClear() {\n      if (this.canvasNode) {\n        this.canvasNode.clear();\n        this.previewImage = null;\n      }\n    },\n\n    goSure() {\n      const canvasNode = this.canvasNode;\n      // 重新初始化画布\n      if (!canvasNode) {\n        this.initalHandle();\n      }\n\n      // 是否签字\n      if (canvasNode.isEmpty()) {\n        this.$toast(\"您还没有签名\");\n        return false;\n      }\n\n      // 图像旋转二次处理\n      const _boxWidth = window.innerWidth;\n      const _boxHeight = window.innerHeight;\n      const _signImg = canvasNode.toDataURL(\"image/png\", 0.6);\n      if (_boxWidth < _boxHeight) {\n        this.previewImage = _signImg;\n      } else {\n        rotateBase64Img(_signImg, -90, (imgUrlRes) => {\n          this.previewImage = imgUrlRes;\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang='css' scoped>\n\n.canvas-wrap .btn-box .clear-btn,\n.canvas-wrap .btn-box .sure-btn {\n  display: inline-block;\n  width: 100px;\n  height: 24px;\n  margin: 0 10px;\n  line-height: 24px;\n  border-radius: 6px;\n  background-color: #fff;\n}\n\n.canvas-wrap .btn-box .clear-btn {\n  color: #898989;\n\tbackground: #d4d4d4;\n}\n\n.canvas-wrap .btn-box .sure-btn {\n  color: #fff;\n  background: linear-gradient(100deg, #ff4e01 0%, #ffbc01 100%);\n}\n\n.canvas-wrap .canvas-wrap-box {\n  /* left: 22%; */\n  box-sizing: border-box;\n  width: 20vw;\n  height: 80vh;\n  border: 1px dashed #d4d4d4;\n  overflow: hidden;\n  background-color: #fff;\n}\n\n/* 竖屏 css */\n@media screen and (orientation: portrait) {\n  .canvas-wrap .canvas-wrap-box {\n    width: 90%;\n    height: 30vh;\n    margin: 20px auto 0;\n  }\n  .preview-wrap {\n    margin: 20px auto 0;\n  }\n  .canvas-wrap .btn-box {\n    margin-top: 16px;\n  }\n}\n\n/* 横屏 css */\n\n@media screen and (orientation: landscape) {\n  /* 横屏样式自己调试 */\n}\n</style>\n"]}]}